{"meta":{"title":"DevJH","subtitle":"Writed by JH, IT Blog","description":"IT Blog","author":"Lee Jung Hoon","url":"https://lee-jung-hoon.github.io"},"pages":[],"posts":[{"title":"테이블스페이스 용량 확인 쿼리","slug":"dbms-oracle-tablespace-001","date":"2018-09-09T09:26:25.000Z","updated":"2018-09-09T09:37:55.292Z","comments":true,"path":"2018/09/09/dbms-oracle-tablespace-001/","link":"","permalink":"https://lee-jung-hoon.github.io/2018/09/09/dbms-oracle-tablespace-001/","excerpt":"","text":"업무를 하다보면 계정의 테이블스페이스의 현재 상태를 체크해야할 일이 생깁니다. 예를 들어 데이터를 이관해야하는 경우, AUTOEXTENSIBLE가 YES일지라도 테이블스페이스의 현재 상태는 체크해주는게 좋습니다. 123456789101112131415SELECT SUBSTR(A.TABLESPACE_NAME,1,30) TABLESPACE, ROUND(SUM(A.TOTAL1)/1024/1024,1) \"총 용량(MB)\", ROUND(SUM(A.TOTAL1)/1024/1024,1)-ROUND(SUM(A.SUM1)/1024/1024,1) \"사용량(MB)\", ROUND(SUM(A.SUM1)/1024/1024,1) \"잔여용량(MB)\", ROUND((ROUND(SUM(A.TOTAL1)/1024/1024,1)-ROUND(SUM(A.SUM1)/1024/1024,1))/ROUND(SUM(A.TOTAL1)/1024/1024,1)*100,2) \"사용률(%)\"FROM (SELECT TABLESPACE_NAME,0 TOTAL1,SUM(BYTES) SUM1,MAX(BYTES) MAXB,COUNT(BYTES) CNT FROM DBA_FREE_SPACE GROUP BY TABLESPACE_NAME UNION SELECT TABLESPACE_NAME,SUM(BYTES) TOTAL1,0,0,0 FROM DBA_DATA_FILES GROUP BY TABLESPACE_NAME) AGROUP BY A.TABLESPACE_NAMEORDER BY TABLESPACE; 해당 쿼리 실행 시 총 용량과 현재 사용량, 잔여용량, 사용률 등을 확인할 수 있습니다.","categories":[{"name":"DBMS","slug":"DBMS","permalink":"https://lee-jung-hoon.github.io/categories/DBMS/"},{"name":"ORACLE","slug":"DBMS/ORACLE","permalink":"https://lee-jung-hoon.github.io/categories/DBMS/ORACLE/"}],"tags":[{"name":"DBMS","slug":"DBMS","permalink":"https://lee-jung-hoon.github.io/tags/DBMS/"},{"name":"ORACLE","slug":"ORACLE","permalink":"https://lee-jung-hoon.github.io/tags/ORACLE/"},{"name":"TABLESPACE","slug":"TABLESPACE","permalink":"https://lee-jung-hoon.github.io/tags/TABLESPACE/"}]}]}